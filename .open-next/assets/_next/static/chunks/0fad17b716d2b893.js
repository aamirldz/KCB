(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,9064,e=>{"use strict";e.s(["ORDER_STATUS_CONFIG",0,{new:{label:"New",color:"#3B82F6",bgColor:"rgba(59, 130, 246, 0.2)"},preparing:{label:"Preparing",color:"#F59E0B",bgColor:"rgba(245, 158, 11, 0.2)"},ready:{label:"Ready",color:"#22C55E",bgColor:"rgba(34, 197, 94, 0.2)"},completed:{label:"Completed",color:"#6B7280",bgColor:"rgba(107, 114, 128, 0.2)"},cancelled:{label:"Cancelled",color:"#EF4444",bgColor:"rgba(239, 68, 68, 0.2)"}},"STAFF_MEMBERS",0,[{id:"1",name:"Waiter 1",role:"staff",pin:"1234"},{id:"2",name:"Waiter 2",role:"staff",pin:"2345"},{id:"3",name:"Chef Wong",role:"kitchen",pin:"3456"},{id:"4",name:"Chef Kim",role:"kitchen",pin:"4567"},{id:"5",name:"Manager",role:"manager",pin:"0000"}]])},43564,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(46932),l=e.i(88653),r=e.i(18566),c=e.i(90419),i=e.i(9064),n=e.i(75157);function x(){let e=(0,r.useRouter)(),{currentStaff:x,orders:d,updateOrderStatus:o}=(0,c.useOrders)(),[m,h]=(0,s.useState)("all"),[p,g]=(0,s.useState)(""),[b,j]=(0,s.useState)(null);(0,s.useEffect)(()=>{x||e.push("/staff")},[x,e]);let N=(0,s.useMemo)(()=>d.filter(e=>{if("all"!==m&&e.status!==m)return!1;if(p){let t=p.toLowerCase();if(!e.orderNumber.toString().includes(t)&&!e.customerName?.toLowerCase().includes(t)&&!e.tableNumber?.toLowerCase().includes(t))return!1}return!0}),[d,m,p]),u=new Date().toDateString(),y=d.filter(e=>new Date(e.createdAt).toDateString()===u),f=y.filter(e=>"completed"===e.status).reduce((e,t)=>e+t.total,0),v={total:d.length,new:d.filter(e=>"new"===e.status).length,preparing:d.filter(e=>"preparing"===e.status).length,ready:d.filter(e=>"ready"===e.status).length,completed:d.filter(e=>"completed"===e.status).length},w=d.find(e=>e.id===b);return x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"h-14"}),(0,t.jsxs)("div",{className:"min-h-[calc(100vh-5rem)] flex flex-col",children:[(0,t.jsx)("div",{className:"p-3 bg-black/30 border-b border-dark-gray",children:(0,t.jsxs)("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2",children:[(0,t.jsxs)("div",{className:"bg-charcoal/50 p-3 text-center",children:[(0,t.jsx)("span",{className:"text-white font-bold text-xl block",children:y.length}),(0,t.jsx)("span",{className:"text-gray text-xs",children:"Today"})]}),(0,t.jsxs)("div",{className:"bg-charcoal/50 p-3 text-center",children:[(0,t.jsx)("span",{className:"text-gold font-bold text-xl block",children:(0,n.formatPrice)(f)}),(0,t.jsx)("span",{className:"text-gray text-xs",children:"Revenue"})]}),(0,t.jsxs)("div",{className:"bg-charcoal/50 p-3 text-center",children:[(0,t.jsx)("span",{className:"text-blue-400 font-bold text-xl block",children:v.new}),(0,t.jsx)("span",{className:"text-gray text-xs",children:"New"})]}),(0,t.jsxs)("div",{className:"bg-charcoal/50 p-3 text-center",children:[(0,t.jsx)("span",{className:"text-gold font-bold text-xl block",children:v.preparing}),(0,t.jsx)("span",{className:"text-gray text-xs",children:"Preparing"})]}),(0,t.jsxs)("div",{className:"bg-charcoal/50 p-3 text-center",children:[(0,t.jsx)("span",{className:"text-green-400 font-bold text-xl block",children:v.ready}),(0,t.jsx)("span",{className:"text-gray text-xs",children:"Ready"})]}),(0,t.jsxs)("div",{className:"bg-charcoal/50 p-3 text-center",children:[(0,t.jsx)("span",{className:"text-light-gray font-bold text-xl block",children:v.completed}),(0,t.jsx)("span",{className:"text-gray text-xs",children:"Completed"})]})]})}),(0,t.jsxs)("div",{className:"p-3 bg-black/20 border-b border-dark-gray flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"relative flex-1 max-w-xs",children:[(0,t.jsx)("input",{type:"text",placeholder:"Search...",value:p,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 pl-9 bg-charcoal border border-gray/20 text-white text-sm placeholder-gray focus:border-crimson/50 outline-none"}),(0,t.jsx)("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),(0,t.jsxs)("div",{className:"flex gap-1 overflow-x-auto flex-1 scrollbar-hide",children:[(0,t.jsxs)("button",{onClick:()=>h("all"),className:`px-3 py-1.5 text-xs font-medium whitespace-nowrap ${"all"===m?"bg-crimson text-white":"bg-charcoal text-gray"}`,children:["All (",v.total,")"]}),Object.keys(i.ORDER_STATUS_CONFIG).map(e=>(0,t.jsx)("button",{onClick:()=>h(e),className:`px-3 py-1.5 text-xs font-medium whitespace-nowrap ${m===e?"bg-crimson text-white":"bg-charcoal text-gray"}`,children:i.ORDER_STATUS_CONFIG[e].label},e))]})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-auto",children:[(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-charcoal/50 sticky top-0",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"text-left p-3 text-gray text-xs font-semibold",children:"Order"}),(0,t.jsx)("th",{className:"text-left p-3 text-gray text-xs font-semibold",children:"Type"}),(0,t.jsx)("th",{className:"text-left p-3 text-gray text-xs font-semibold",children:"Items"}),(0,t.jsx)("th",{className:"text-left p-3 text-gray text-xs font-semibold",children:"Total"}),(0,t.jsx)("th",{className:"text-left p-3 text-gray text-xs font-semibold",children:"Status"}),(0,t.jsx)("th",{className:"text-left p-3 text-gray text-xs font-semibold",children:"Time"}),(0,t.jsx)("th",{className:"text-left p-3 text-gray text-xs font-semibold",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:N.map(e=>(0,t.jsxs)(a.motion.tr,{initial:{opacity:0},animate:{opacity:1},onClick:()=>j(e.id),className:"border-t border-dark-gray/50 hover:bg-charcoal/30 cursor-pointer",children:[(0,t.jsxs)("td",{className:"p-3",children:[(0,t.jsxs)("span",{className:"text-white font-bold",children:["#",e.orderNumber]}),e.customerName&&(0,t.jsx)("span",{className:"text-gray text-xs block",children:e.customerName})]}),(0,t.jsx)("td",{className:"p-3",children:(0,t.jsx)("span",{className:`text-xs px-2 py-1 ${"dine-in"===e.type?"bg-blue-500/20 text-blue-400":"bg-gold/20 text-gold"}`,children:"dine-in"===e.type?`ðŸ½ï¸ T${e.tableNumber}`:"ðŸ“¦ Take"})}),(0,t.jsxs)("td",{className:"p-3 text-light-gray text-sm",children:[e.items.reduce((e,t)=>e+t.quantity,0)," items"]}),(0,t.jsx)("td",{className:"p-3 text-gold font-semibold text-sm",children:(0,n.formatPrice)(e.total)}),(0,t.jsx)("td",{className:"p-3",children:(0,t.jsx)("span",{className:`text-xs px-2 py-1 font-semibold ${"new"===e.status?"bg-blue-500/20 text-blue-400":"preparing"===e.status?"bg-gold/20 text-gold":"ready"===e.status?"bg-green-500/20 text-green-400":"completed"===e.status?"bg-gray/20 text-gray":"bg-crimson/20 text-crimson"}`,children:e.status.toUpperCase()})}),(0,t.jsx)("td",{className:"p-3 text-light-gray text-sm",children:(0,n.formatTime)(e.createdAt)}),(0,t.jsx)("td",{className:"p-3",children:(0,t.jsxs)("div",{className:"flex gap-1",children:["ready"===e.status&&(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),o(e.id,"completed")},className:"px-2 py-1 text-xs bg-green-500/20 text-green-400 hover:bg-green-500 hover:text-white",children:"Complete"}),!["cancelled","completed"].includes(e.status)&&(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),o(e.id,"cancelled")},className:"px-2 py-1 text-xs bg-crimson/20 text-crimson hover:bg-crimson hover:text-white",children:"Cancel"})]})})]},e.id))})]}),0===N.length&&(0,t.jsxs)("div",{className:"text-center py-16",children:[(0,t.jsx)("span",{className:"text-5xl block mb-3",children:"ðŸ“‹"}),(0,t.jsx)("p",{className:"text-white text-lg mb-1",children:"No orders found"}),(0,t.jsx)("p",{className:"text-gray text-sm",children:"Try adjusting filters"})]})]}),(0,t.jsx)(l.AnimatePresence,{children:b&&w&&(0,t.jsx)(a.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:()=>j(null),children:(0,t.jsxs)(a.motion.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-charcoal border border-dark-gray max-w-md w-full max-h-[80vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"p-4 border-b border-dark-gray flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-white font-bold text-lg",children:["Order #",w.orderNumber]}),(0,t.jsxs)("p",{className:"text-gray text-xs",children:[(0,n.formatTime)(w.createdAt)," â€¢ ",(0,n.formatDate)(w.createdAt)]})]}),(0,t.jsx)("span",{className:`text-xs px-2 py-1 font-semibold ${"new"===w.status?"bg-blue-500/20 text-blue-400":"preparing"===w.status?"bg-gold/20 text-gold":"ready"===w.status?"bg-green-500/20 text-green-400":"bg-gray/20 text-gray"}`,children:w.status.toUpperCase()})]}),(0,t.jsxs)("div",{className:"p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray text-xs",children:"Type"}),(0,t.jsx)("p",{className:"text-white",children:"dine-in"===w.type?"ðŸ½ï¸ Dine-in":"ðŸ“¦ Takeaway"})]}),w.tableNumber&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray text-xs",children:"Table"}),(0,t.jsx)("p",{className:"text-white",children:w.tableNumber})]}),w.customerName&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray text-xs",children:"Customer"}),(0,t.jsx)("p",{className:"text-white",children:w.customerName})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray text-xs",children:"Created By"}),(0,t.jsx)("p",{className:"text-white",children:w.createdBy})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray text-xs block mb-2",children:"Items"}),w.items.map(e=>(0,t.jsxs)("div",{className:"flex justify-between py-2 border-b border-dark-gray last:border-0",children:[(0,t.jsxs)("span",{className:"text-white",children:[e.quantity,"Ã— ",e.name]}),(0,t.jsx)("span",{className:"text-gold",children:(0,n.formatPrice)(e.price*e.quantity)})]},e.id))]}),(0,t.jsxs)("div",{className:"pt-3 border-t border-dark-gray",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray",children:"Subtotal"}),(0,t.jsx)("span",{className:"text-white",children:(0,n.formatPrice)(w.subtotal)})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray",children:"Tax (5%)"}),(0,t.jsx)("span",{className:"text-white",children:(0,n.formatPrice)(w.tax)})]}),(0,t.jsxs)("div",{className:"flex justify-between text-lg font-bold mt-2 pt-2 border-t border-dark-gray",children:[(0,t.jsx)("span",{className:"text-white",children:"Total"}),(0,t.jsx)("span",{className:"text-gold",children:(0,n.formatPrice)(w.total)})]})]})]}),(0,t.jsx)("div",{className:"p-4 border-t border-dark-gray",children:(0,t.jsx)("button",{onClick:()=>j(null),className:"w-full py-2 bg-dark-gray text-white hover:bg-gray transition-colors",children:"Close"})})]})})})]})]}):null}e.s(["default",()=>x])}]);